{"ast":null,"code":"var _jsxFileName = \"/Users/jeraldielquinones/Desktop/react-jobly/front-end/src/components/BookList.js\";\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { Link } from 'react-router-dom';\nimport JoblyApi from '../api/api';\nconst API = 'https://example-data.draftbit.com/books?_limit=240';\nconst BookList = () => {\n  const [books, setBooks] = useState([]);\n  const [userFavorites, setUserFavorites] = useState([]);\n  useEffect(() => {\n    axios.get(API).then(res => {\n      setBooks(res.data);\n    }).catch(err => console.log(err));\n\n    // Fetch user favorites when the component mounts\n    if (JoblyApi.token) {\n      const username = JoblyApi.getCurrentUser().username;\n      JoblyApi.getUserFavorites(username).then(favorites => {\n        setUserFavorites(favorites);\n      }).catch(err => console.error('Error fetching favorites:', err));\n    }\n  }, []);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"book-list\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 5\n    }\n  }, books.map(book => /*#__PURE__*/React.createElement(Link, {\n    key: book.id,\n    to: `/book/${book.id}`,\n    className: \"book-entry-link\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    key: book.id,\n    className: \"book-entry\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 15\n    }\n  }, book.title)), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: book.image_url,\n    alt: \"#\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 15\n    }\n  }), userFavorites.includes(book.id) && /*#__PURE__*/React.createElement(\"span\", {\n    style: {\n      color: 'red'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 17\n    }\n  }, \" \\u2605 Favorite\"))))));\n};\nexport default BookList;","map":{"version":3,"names":["React","useState","useEffect","axios","Link","JoblyApi","API","BookList","books","setBooks","userFavorites","setUserFavorites","get","then","res","data","catch","err","console","log","token","username","getCurrentUser","getUserFavorites","favorites","error","createElement","className","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","map","book","key","id","to","title","src","image_url","alt","includes","style","color"],"sources":["/Users/jeraldielquinones/Desktop/react-jobly/front-end/src/components/BookList.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { Link } from 'react-router-dom';\nimport JoblyApi from '../api/api'\n\nconst API = 'https://example-data.draftbit.com/books?_limit=240';\n\nconst BookList = () => {\n  const [books, setBooks] = useState([]);\n  const [userFavorites, setUserFavorites] = useState([]);\n\n  useEffect(() => {\n    axios\n      .get(API)\n      .then((res) => {\n        setBooks(res.data);\n      })\n      .catch((err) => console.log(err));\n\n    // Fetch user favorites when the component mounts\n    if (JoblyApi.token) {\n      const username = JoblyApi.getCurrentUser().username;\n      JoblyApi.getUserFavorites(username)\n        .then((favorites) => {\n          setUserFavorites(favorites);\n        })\n        .catch((err) => console.error('Error fetching favorites:', err));\n    }\n  }, []);\n\n  return (\n    <div className='book-list'>\n      {books.map((book) => (\n        <Link key={book.id} to={`/book/${book.id}`} className='book-entry-link'>\n          <div key={book.id} className='book-entry'>\n            <div>\n              <h2>{book.title}</h2>\n            </div>\n            <div>\n              <img src={book.image_url} alt='#' />\n              {/* Check if the book is in user favorites */}\n              {userFavorites.includes(book.id) && (\n                <span style={{ color: 'red' }}> â˜… Favorite</span>\n              )}\n            </div>\n          </div>\n        </Link>\n      ))}\n    </div>\n  );\n};\n\nexport default BookList;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}