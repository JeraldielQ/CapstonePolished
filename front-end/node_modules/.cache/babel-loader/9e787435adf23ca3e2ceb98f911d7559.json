{"ast":null,"code":"var _jsxFileName = \"/Users/jeraldielquinones/Desktop/react-jobly/front-end/src/Book/context.js\";\nimport React, { useState, useContext, useEffect, useCallback } from 'react';\nimport axios from 'axios';\nconst API_KEY = process.env.REACT_APP_GOOGLE_BOOKS_API_KEY;\nconst API_URL = 'https://www.googleapis.com/books/v1/volumes';\nconst AppContext = React.createContext();\nconst AppProvider = ({\n  children\n}) => {\n  const [searchTerm, setSearchTerm] = useState('the lost world');\n  const [books, setBooks] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [resultTitle, setResultTitle] = useState('');\n  const fetchBooks = useCallback(async () => {\n    setLoading(true);\n    try {\n      const response = await axios.get(API_URL, {\n        params: {\n          q: searchTerm,\n          key: API_KEY,\n          maxResults: 20\n        }\n      });\n      const {\n        items\n      } = response.data;\n      if (items) {\n        const newBooks = items.map(book => {\n          var _volumeInfo$imageLink;\n          const {\n            id,\n            volumeInfo\n          } = book;\n          return {\n            id,\n            author: volumeInfo.authors ? volumeInfo.authors.join(', ') : 'Unknown',\n            cover_id: (_volumeInfo$imageLink = volumeInfo.imageLinks) === null || _volumeInfo$imageLink === void 0 ? void 0 : _volumeInfo$imageLink.thumbnail,\n            edition_count: 1,\n            first_publish_year: volumeInfo.publishedDate ? parseInt(volumeInfo.publishedDate) : null,\n            title: volumeInfo.title\n          };\n        });\n        setBooks(newBooks);\n        if (newBooks.length > 0) {\n          setResultTitle('Your Search Result');\n        } else {\n          setResultTitle('No Search Result Found!');\n        }\n      } else {\n        setBooks([]);\n        setResultTitle('No Search Result Found!');\n      }\n      setLoading(false);\n    } catch (error) {\n      console.error(error);\n      setLoading(false);\n    }\n  }, [searchTerm]);\n  useEffect(() => {\n    fetchBooks();\n  }, [searchTerm, fetchBooks]);\n  return /*#__PURE__*/React.createElement(AppContext.Provider, {\n    value: {\n      loading,\n      books,\n      setSearchTerm,\n      resultTitle,\n      setResultTitle\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 5\n    }\n  }, children);\n};\nexport const useGlobalContext = () => {\n  return useContext(AppContext);\n};\nexport { AppContext, AppProvider };","map":{"version":3,"names":["React","useState","useContext","useEffect","useCallback","axios","API_KEY","process","env","REACT_APP_GOOGLE_BOOKS_API_KEY","API_URL","AppContext","createContext","AppProvider","children","searchTerm","setSearchTerm","books","setBooks","loading","setLoading","resultTitle","setResultTitle","fetchBooks","response","get","params","q","key","maxResults","items","data","newBooks","map","book","_volumeInfo$imageLink","id","volumeInfo","author","authors","join","cover_id","imageLinks","thumbnail","edition_count","first_publish_year","publishedDate","parseInt","title","length","error","console","createElement","Provider","value","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","useGlobalContext"],"sources":["/Users/jeraldielquinones/Desktop/react-jobly/front-end/src/Book/context.js"],"sourcesContent":["import React, { useState, useContext, useEffect, useCallback } from 'react';\nimport axios from 'axios';\n\nconst API_KEY = process.env.REACT_APP_GOOGLE_BOOKS_API_KEY;\nconst API_URL = 'https://www.googleapis.com/books/v1/volumes';\n\nconst AppContext = React.createContext();\n\nconst AppProvider = ({ children }) => {\n  const [searchTerm, setSearchTerm] = useState('the lost world');\n  const [books, setBooks] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [resultTitle, setResultTitle] = useState('');\n\n  const fetchBooks = useCallback(async () => {\n    setLoading(true);\n\n    try {\n      const response = await axios.get(API_URL, {\n        params: {\n          q: searchTerm,\n          key: API_KEY,\n          maxResults: 20,\n        },\n      });\n\n      const { items } = response.data;\n\n      if (items) {\n        const newBooks = items.map((book) => {\n          const { id, volumeInfo } = book;\n\n          return {\n            id,\n            author: volumeInfo.authors ? volumeInfo.authors.join(', ') : 'Unknown',\n            cover_id: volumeInfo.imageLinks?.thumbnail,\n            edition_count: 1,\n            first_publish_year: volumeInfo.publishedDate ? parseInt(volumeInfo.publishedDate) : null,\n            title: volumeInfo.title,\n          };\n        });\n\n        setBooks(newBooks);\n\n        if (newBooks.length > 0) {\n          setResultTitle('Your Search Result');\n        } else {\n          setResultTitle('No Search Result Found!');\n        }\n      } else {\n        setBooks([]);\n        setResultTitle('No Search Result Found!');\n      }\n\n      setLoading(false);\n    } catch (error) {\n      console.error(error);\n      setLoading(false);\n    }\n  }, [searchTerm]);\n\n  useEffect(() => {\n    fetchBooks();\n  }, [searchTerm, fetchBooks]);\n\n  return (\n    <AppContext.Provider value={{ loading, books, setSearchTerm, resultTitle, setResultTitle }}>\n      {children}\n    </AppContext.Provider>\n  );\n};\n\nexport const useGlobalContext = () => {\n  return useContext(AppContext);\n};\n\nexport { AppContext, AppProvider };\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}